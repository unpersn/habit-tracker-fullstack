<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Трекер привычек</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Экран загрузки -->
    <div id="loadingScreen" class="loading-screen">
        <div class="loading-spinner"></div>
        <p>Загрузка...</p>
    </div>

    <!-- Основное приложение -->
    <div id="mainApp" class="container" style="display: none;">
        <header>
            <h1>Трекер привычек</h1>
            <p class="subtitle">Отслеживайте свои ежедневные привычки</p>
        </header>

        <main>
            <section class="add-habit-section">
                <h2>Добавить новую привычку</h2>
                <form id="habitForm" class="habit-form">
                    <input 
                        type="text" 
                        id="habitInput" 
                        placeholder="Например: Выпить 8 стаканов воды"
                        required
                    >
                    <button type="submit">Добавить</button>
                </form>
            </section>

            <!-- Календарь -->
            <section class="calendar-section">
                <h2>Календарь привычек</h2>
                <div class="calendar-controls">
                    <button id="prevMonth" class="calendar-btn">‹</button>
                    <h3 id="currentMonth"></h3>
                    <button id="nextMonth" class="calendar-btn">›</button>
                </div>
                <div class="calendar-container">
                    <div class="calendar-weekdays">
                        <div class="weekday">Пн</div>
                        <div class="weekday">Вт</div>
                        <div class="weekday">Ср</div>
                        <div class="weekday">Чт</div>
                        <div class="weekday">Пт</div>
                        <div class="weekday">Сб</div>
                        <div class="weekday">Вс</div>
                    </div>
                    <div id="calendarGrid" class="calendar-grid"></div>
                </div>
                <div class="calendar-legend">
                    <div class="legend-item">
                        <div class="legend-color no-habits"></div>
                        <span>Нет привычек</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color partial"></div>
                        <span>Частично выполнено</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color completed"></div>
                        <span>Все выполнено</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color future"></div>
                        <span>Будущие дни</span>
                    </div>
                </div>
            </section>

            <!-- Раздел привычек с индикатором выбранного дня -->
            <section class="habits-section">
                <div class="habits-header">
                    <h2 id="habitsTitle">Мои привычки</h2>
                    <div id="selectedDateInfo" class="selected-date-info" style="display: none;">
                        <span id="selectedDateText"></span>
                        <button id="backToToday" class="back-to-today-btn">Вернуться к сегодня</button>
                    </div>
                </div>
                <div id="habitsList" class="habits-list"></div>
                <div id="emptyState" class="empty-state">
                    <p>У вас пока нет привычек. Добавьте первую!</p>
                </div>
            </section>

            <section class="stats-section">
                <h2>Статистика</h2>
                <div class="stats-grid">
                    <div class="stat-card">
                        <span class="stat-number" id="totalHabits">0</span>
                        <span class="stat-label">Всего привычек</span>
                    </div>
                    <div class="stat-card">
                        <span class="stat-number" id="completedToday">0</span>
                        <span class="stat-label">Выполнено сегодня</span>
                    </div>
                    <div class="stat-card">
                        <span class="stat-number" id="streakCount">0</span>
                        <span class="stat-label">Лучшая серия</span>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- Экран ошибки -->
    <div id="errorMessage" class="error-message" style="display: none;">
        <h2>Ошибка загрузки</h2>
        <p id="errorText"></p>
        <button onclick="window.location.reload()">Перезагрузить</button>
    </div>

    <script src="script.js"></script>
</body>
</html>